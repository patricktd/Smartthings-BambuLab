name: bambulab.printer.v1 # Mantenha o mesmo nome se for uma evolução do perfil
components:
  - id: main
    label: Impressora Bambu Lab
    capabilities:
      # Capacidades padrão
      - id: switch
        version: 1
      - id: temperatureMeasurement # Para temperatura do bico
        version: 1
      - id: refresh
        version: 1
      - id: healthCheck
        version: 1
      # Capacidades customizadas (exemplos)
      - id: patchprepare64330.printerStatus
        version: 1
      - id: patchprepare64330.printProgress
        version: 1
      - id: patchprepare64330.nozzleTemperature
        version: 1
      - id: patchprepare64330.bedTemperature
        version: 1
    categories:
      - name: Printer
preferences: # Adicionando preferências do dispositivo
  - name: "printerIp"
    title: "IP da Impressora"
    description: "O endereço IP da sua impressora Bambu Lab."
    required: true
    preferenceType: string
    definition:
      stringType: "text"
      default: "192.168.1.100"
  - name: "printerPort"
    title: "Porta MQTT"
    description: "A porta MQTT da impressora (ex: 1883 ou 8883 para TLS)."
    required: true
    preferenceType: integer
    definition:
      minimum: 1
      maximum: 65535
      default: 8883
  - name: "mqttUsername"
    title: "Usuário MQTT Padrão bblp"
    description: "Nome de usuário para autenticação MQTT"
    required: true
    preferenceType: string
    definition:
      stringType: "text"
      default: "" # <<< Adicione esta linha
  - name: "mqttPassword"
    title: "Senha MQTT - usar o Token"
    description: "Senha para autenticação MQTT"
    required: true
    preferenceType: string
    definition:
      stringType: "password" # Oculta os caracteres
      default: "" # <<< Adicione esta linha
  - name: "caCertificate"
    title: "Certificado CA"
    description: "Cole o conteúdo do certificado CA (formato PEM) se a conexão MQTT usar TLS com um CA customizado."
    required: true
    preferenceType: string
    definition:
      stringType: "paragraph" # Permite texto longo
      default: "" # <<< Adicione esta linha também, já que é required e string